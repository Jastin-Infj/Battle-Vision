@use '../../css/tw-style.css' as *;
@use '../base' as *;

//* ブラウザの描画範囲
$screenWidth: 100vw;
$screenHeight: calc(100vh * 1.5);

//* ブラウザの表示割合
$screen_Full: 1;
$screen_Header: 0.15;
$screen_Footer: 0.15;
$screen_Body: $screen_Full - $screen_Header - $screen_Footer;

$screenHeaderHeight: $screenHeight * $screen_Header;
$screenFooterHeight: $screenHeight * $screen_Footer;
$screenBodyHeight: $screenHeight * $screen_Body;

//* ブラウザの最大表示範囲
// 範囲外が多少あるためリサイズ
$screen_Max_Width: $screenWidth * 0.99;
$screen_Max_Height: $screenHeight * 1.0;

@layer base {

  %layer-canvas {
    @apply absolute left-0 top-0;
    max-width: $screen_Max_Width;
    max-height: $screen_Max_Height;

    width: $screen_Max_Width;
    height: $screen_Max_Height;

    // background: black;

    %header {
      @apply absolute left-0 top-0;
      @apply w-full;

      height: $screenHeaderHeight;
    }

    %layer-component {
      @apply absolute left-0;
      @apply w-full;

      @apply z-40;

      top: 0px;
      height: $screenHeaderHeight + $screenBodyHeight;

    }

    %footer {
      @apply absolute left-0 bottom-0;
      @apply w-full;
      
      height: $screenFooterHeight;

      //todo test
      background: red;
    }

    %back {
      @apply absolute left-0;
      @apply w-full;

      @apply top-0 h-full;
      @apply z-30;

      img {
        @apply absolute w-full h-full;

        @apply overflow-hidden;
        @apply bg-fixed bg-left-top;

        // header + body を覆う
        height: $screenHeaderHeight + $screenBodyHeight;
      }

      //* 暗くするには必ず下に配置すること
      div.opacity {
        @apply absolute w-full h-full;

        // header + body を覆う
        height: $screenHeaderHeight + $screenBodyHeight;
        background: rgba(0, 0, 0, 0.65);
      }

    }

  }
  
}

@layer components {

  %text-titlelogo {
    @apply m-9;

    span {
      @apply whitespace-nowrap;
      @apply font-bold italic;
      @apply text-white;

      font-weight: 800;
      font-size: 7.5rem;

      -webkit-text-stroke: {
        color: rgba(75, 88, 209, 1);
        width: 0.3rem;
      }
    }
  }

  %button {
    $width: $screenWidth * 0.2;

    @apply relative top-0;
    //width 指定しないと widthが自動的に大きくなる
    width: $width;
    left: 70%;
    right: 70%;
    
    div {
      @apply relative;
  
      filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));
  
      &:not(:first-child) {
        top: $screenHeight * 0.1;
      }
  
      button {
        @apply relative;
        @apply rounded-2xl;
        background: rgba(59, 58, 109, 1);
        width: $width;
        height: $screenHeight * 0.06;

        &:hover {
          background: rgba(249, 246, 255, 1);
          -webkit-text-stroke: {
            color: rgba(255, 255, 255, 1);
          }
        }
        span {
          @apply items-center;
          @apply text-center;

          font-size: 2.5rem;
          font-weight: 600;

          color: rgba(255, 255, 255, 1);
        }
        &:hover span {
          color: rgba(59, 58, 109, 1);
        }
      }
    }
  }

}


div.layer-canvas {
  @extend %layer-canvas;

  div.header {
    @extend %header;
  }

  div.layer-components {
    @extend %layer-component;
  }

  div.footer {
    @extend %footer;
  }

  div.back {
    @extend %back;
  }


}


// base に詳細は記載
div.layer-components {
  div#titlelogo {
    @extend %text-titlelogo;
  }

  div#buttons {
    @extend %button;
  }
}